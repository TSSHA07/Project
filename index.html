<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Discord Clone with News & Streams</title>
<style>
body {
  background: #2f3136;
  color: white;
  font-family: "Poppins", sans-serif;
  margin: 0;
  padding: 0;
}
.app {
  display: flex;
  height: 100vh;
}
.sidebar {
  width: 220px;
  background-color: #202225;
  padding: 20px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.servers h2 { color: #5865f2; margin-bottom: 15px; }
.servers ul { list-style: none; padding: 0; }
.servers li {
  margin: 10px 0;
  cursor: pointer;
  padding: 8px;
  border-radius: 6px;
  transition: 0.3s;
}
.servers li:hover { background-color: #5865f2; color: white; }
.profile {
  background-color: #36393f;
  padding: 10px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.profile img {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  border: 2px solid #5865f2;
}
.chat {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: #36393f;
}
.chat-header {
  background-color: #202225;
  padding: 15px;
  border-bottom: 1px solid #202225;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.messages {
  flex: 1;
  padding: 15px;
  overflow-y: auto;
  scroll-behavior: smooth;
}
.message {
  margin-bottom: 12px;
  background-color: rgba(255, 255, 255, 0.08);
  padding: 10px 14px;
  border-radius: 10px;
  max-width: 70%;
  animation: fadeIn 0.3s ease;
}
.message strong { color: #5865f2; }
.timestamp {
  font-size: 10px;
  color: #aaa;
  margin-left: 5px;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(5px); }
  to { opacity: 1; transform: translateY(0); }
}
.input-area {
  display: flex;
  padding: 12px;
  background-color: #202225;
  align-items: center;
}
#messageInput {
  flex: 1;
  padding: 10px;
  border: none;
  border-radius: 6px;
  outline: none;
  background-color: #2f3136;
  color: white;
}
#sendBtn {
  background-color: #5865f2;
  border: none;
  color: white;
  padding: 10px 15px;
  margin-left: 10px;
  border-radius: 6px;
  cursor: pointer;
}
#sendBtn:hover { opacity: 0.9; }

.news-panel {
  width: 300px;
  background-color: #2f3136;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.news-panel h3 {
  margin: 0;
  color: #fff;
  font-size: 18px;
}
.section {
  flex: 1;
  background: #202225;
  border-radius: 8px;
  overflow-y: auto;
}
</style>
</head>
<body>
<div class="app">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="servers">
      <h2>Servers</h2>
      <ul>
        <li>üè† Home</li>
        <li>üéÆ Gaming</li>
        <li>üíª Coding</li>
        <li>üéß Music</li>
      </ul>
    </div>
    <div class="profile">
      <img src="https://api.dicebear.com/7.x/adventurer/svg?seed=Heno" alt="Profile" />
      <div>
        <strong id="usernameDisplay">Heno</strong>
        <p style="font-size: 12px; opacity: 0.8;">Online üü¢</p>
      </div>
    </div>
  </div>

  <!-- Chat Window -->
  <div class="chat">
    <div class="chat-header">
      <h3># general</h3>
    </div>
    <div class="messages"></div>
    <div class="input-area">
      <input type="text" id="usernameInput" placeholder="Enter your name" style="width: 150px; margin-right: 10px;" />
      <input type="text" id="messageInput" placeholder="Type a message..." />
      <button id="sendBtn">Send</button>
    </div>
  </div>

  <!-- News & Trending Panel -->
  <div class="news-panel">
    <div class="section">
      <h3>Latest News</h3>
      <div id="news" style="padding: 10px; overflow-y: auto; height: 200px; background: #1e1e1e;">
        <div style="margin-bottom:10px;">
          <strong>Breaking: AI Technology Breakthrough</strong>
          <p style="font-size: 13px;">A new AI model has been launched that can produce realistic art in seconds.</p>
        </div>
        <div style="margin-bottom:10px;">
          <strong>Global Markets Update</strong>
          <p style="font-size: 13px;">Stocks surge as technology sector shows strong recovery.</p>
        </div>
        <div style="margin-bottom:10px;">
          <strong>SpaceX Launch Success</strong>
          <p style="font-size: 13px;">SpaceX successfully launches and deploys new satellite network.</p>
        </div>
      </div>
    </div>

    <div class="section">
      <h3>Trending Streams</h3>
      <div id="streams" style="padding: 10px; overflow-y: auto; height: 200px; background: #1e1e1e;">
        <div style="margin-bottom:10px;">
          <strong><a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank" style="color:white;">Top Gaming Stream 1</a></strong>
          <p style="font-size: 13px;">Watch live gaming adventures in this trending stream.</p>
        </div>
        <div style="margin-bottom:10px;">
          <strong><a href="https://www.twitch.tv/" target="_blank" style="color:white;">Trending Music Stream</a></strong>
          <p style="font-size: 13px;">Join live music performances from top streamers.</p>
        </div>
        <div style="margin-bottom:10px;">
          <strong><a href="https://www.youtube.com/" target="_blank" style="color:white;">Tech Reviews Live</a></strong>
          <p style="font-size: 13px;">Watch the latest tech gadgets reviewed live.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAF78wb9_OSrfPc93iaFmmNN-CZY03sJMQ",
  authDomain: "project-java0001.firebaseapp.com",
  projectId: "project-java0001",
  storageBucket: "project-java0001.firebasestorage.app",
  messagingSenderId: "246764397103",
  appId: "1:246764397103:web:ae0c23a62b60ee124adcda",
  databaseURL: "https://project-java0001-default-rtdb.firebaseio.com/"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const chatRef = ref(db, "messages");

const sendBtn = document.getElementById("sendBtn");
const input = document.getElementById("messageInput");
const usernameInput = document.getElementById("usernameInput");
const usernameDisplay = document.getElementById("usernameDisplay");
const messages = document.querySelector(".messages");

usernameInput.addEventListener("input", () => {
  usernameDisplay.innerText = usernameInput.value || "Heno";
});

sendBtn.addEventListener("click", sendMessage);
input.addEventListener("keypress", (e) => { if (e.key === "Enter") sendMessage(); });

function sendMessage() {
  const text = input.value.trim();
  const user = usernameInput.value.trim() || "Heno";
  if (!text) return;

  const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
  push(chatRef, { user, text, timestamp });
  input.value = "";
}

onChildAdded(chatRef, (snapshot) => {
  const msgData = snapshot.val();
  const msg = document.createElement("div");
  msg.classList.add("message");
  msg.innerHTML = `<strong>${msgData.user}:</strong> ${msgData.text} <span class="timestamp">${msgData.timestamp}</span>`;
  messages.appendChild(msg);
  messages.scrollTop = messages.scrollHeight;
});
</script>
</body>
</html>
